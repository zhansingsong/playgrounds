!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.Requester=b(a.$)}(this,function(a){"use strict";function b(a){var b=document.createElement("b");return b.innerHTML="<!--[if IE "+a+"]><i></i><![endif]-->",1===b.getElementsByTagName("i").length}function c(b,c){this.element=a(c),this.namespace="iElevator";var d={floors:null,btns:null,backtop:null,selected:"",sticky:-1,visible:{isHide:"no",numShow:0},speed:400,show:function(a){a.element.show()},hide:function(a){a.element.hide()}},e=this.element.data("ielevator-options")||{};this.settings=a.extend({},d,b,e),this.init(b)}"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){for(var b=this.length-1;b>=0;b--)if(this[b]===a)return b}),c.prototype=function(){function d(b){var c={floors:"floors"in b,btns:"btns"in b,backtop:"backtop"in b};c.floors&&(this.floors=f.call(this,"floors"),this.floors.each(function(){r.push(0|a(this).offset().top)}),this.btns=c.btns?f.call(this,"btns"):null),c.backtop&&(this.backtop=f.call(this,"backtop")),q=this.btns?this.backtop?this.btns.add(this.backtop):this.btns:this.backtop,p=r.slice(),p.push(0),c.floors&&c.btns&&c.backtop||c.floors&&c.btns||c.backtop||a.error('you provide at least one of "cBacktop" , "cFloors + cBtns" or "cFloors + cBtns + cBacktop"')}function e(a){var b=document.createElement("style"),c=document.getElementsByTagName("head")[0];b.type="text/css";try{b.appendChild(document.createTextNode(a))}catch(d){b.styleSheet.cssText=a}return c.appendChild(b),b}function f(b){if(b in this.settings){var c=this.settings[b],d={cFloors:!0,cBtns:!0,cBacktop:!0};if(c||!d[b])return c;a.error('the "'+b+'" is required, not '+c)}else a.error('the settings contains no such "'+b+'"option!')}function g(){f.call(this,"show")(this)}function h(){f.call(this,"hide")(this)}function i(a){var b=parseInt(a,10),c=r.indexOf(b);return c>-1?c:(r.push(b),r.sort(function(a,b){return a-b}),c=r.indexOf(b),r.splice(c,1),c-1)}function j(b,c){-1!==b&&a("html, body").animate({scrollTop:p[b]},c)}function k(a){var b,c,d=f.call(this,"selected");if(d&&("string"==typeof d?b=d:c=d,b&&q&&q.removeClass(b).eq(a).addClass(b),c)){var e=q.eq(a).position().top,g=q.eq(a).height();if(0>a)return;c.css({top:e+"px",height:g+"px"})}}function l(){var b=this,c=f.call(this,"speed");p.length;q.on("click."+this.namespace,function(d){var e=q.index(a(this));j.call(b,e,c)}),a(window).on("scroll."+this.namespace,function(){var c=a(this).scrollTop(),d=i.call(b,c);t&&t.call(b,c,b.numShow),s.call(b,c),k.call(b,d),u.call(b,c)})}function m(){this.element.off("."+this.namespace),a(window).off("."+this.namespace)}function n(){m.call(this),a.removeData(this)}function o(a){d.call(this,a),s.call(this),l.call(this)}var p,q,r=[],s=function(a){var b=f.call(this,"visible"),c=b.isHide.toLowerCase(),d=b.numShow;"yes"===c?(this.element.hide(),this.numShow=d):d=0,s=function(a){a>=d?g.call(this):h.call(this)}},t=function(){return b(6)?(a("html").css({backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"}),function(a,b){"fixed"===this.element[0].currentStyle.position&&this.element.css("position","absolute"),this.element.css("top",parseInt(a,10)+b+"px"),t=function(a,b){this.element.css("top",parseInt(a,10)+b+"px")}}):void 0}(),u=function(a){var b=+f.call(this,"sticky"),c=this.element.offset().top,d=".fixed{position: fixed; top: "+b+"px;}";0>b||(e(d),a-b>c?this.element.addClass("fixed"):this.element.removeClass("fixed"),u=function(a){a+b>c?this.element.addClass("fixed"):this.element.removeClass("fixed")})};return{constructor:c,init:function(a){this._(o)(a)},destory:function(){console.log("destory"),this._(n)()},getSettings:function(a){return this._(f)(a)},_:function(a){var b=this;return function(){return a.apply(b,arguments)}}}}(),a.fn.ielevator=function(b){var d,e,f="ielevatorPlugin";return"string"==typeof b?(d=Array.prototype.slice.call(arguments,1),this.each(function(){var c=a.data(this,f);return c?a.isFunction(c[b])?void(e=c[b].apply(c,d)):void a.error("The plugin contains no such method: "+b):void a.error("The plugin has not been initialised yet when you tried to call this method: "+b)}),void 0!==e?e:this):this.each(function(){var d=a.data(this,f);d?d.option(b):a.data(this,f,new c(b,this))})}});